# Place NetBSD source in ~/netbsd-src
# Place dflybsd source in ~/dragonfly

cp -R ~/dragonfly/sys/vfs/hammer ~/netbsd-src/sys/fs/
#Append hammer to SUBDIR In ~/netbsd-src/sys/fs/Makefile
#Replace <bsd.kmod.mk> by <bsd.kinc.mk> in ~/netbsd-src/sys/fs/hammer/Makefile
cp -R ~/dragonfly/sbin/newfs_hammer ~/netbsd-src/sbin/
#Apennd newfs_hammer to SUBDIR in ~/netbsd-src/sbin/Makefile

cp -R ~/dragonfly/sbin/mount_hammer ~/netbsd-src/sbin/
#Apennd mount_hammer to SUBDIR in ~/netbsd-src/sbin/Makefile

cp -R ~/dragonfly/sbin/hammer ~/netbsd-src/sbin/

cp -R ~/dragonfly/lib/libhammer/ ~/netbsd-src/lib/
#Append libhammer to SUBDIR in ~/netbsd-src/lib/Makefile
#Remove crc32.c and icrc32.c from SRCs in ~/netbsd-src/lib/libhammer/Makefile
#Remove PATH changes from ~/netbsd-src/lib/libhammer/Makefile

#Change ~/netbsd-src/lib/libhammer/libhammer.h to not include <vfs/...> but <fs/...>

#Add #include <sys/ioctl.h> to ~/netbsd-src/sys/fs/hammer/hammer_ioctl.h

#in ~/netbsd-src/lib/libhammer/misc.c, replace: %s/statfs/statvfs/


# Future roadblocks:
# Dillon on why porting HAMMER is hard: https://wiki.freebsd.org/PortingHAMMERFS

############# CURRENT FAILURE #####################################
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:97:23: error: expected ')' before 'const'
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:97:23: error: expected ')' before 'const'
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:139:1: error: no previous prototype for 'uuid_name_lookup' [-Werror=missing-prototypes]
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:149:10: error: implicit declaration of function 'uuid_nrbtree_RB_LOOKUP_NAME' [-Werror=implicit-function-declaration]
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:149:8: error: assignment makes pointer from integer without a cast [-Werror=int-conversion]
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:161:13: error: 'uuid_s_not_found' undeclared (first use in this function)
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:180:1: error: no previous prototype for 'uuid_reset_lookup' [-Werror=missing-prototypes]
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:182:2: error: implicit declaration of function 'uuid_urbtree_RB_SCAN' [-Werror=implicit-function-declaration]
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:139:1: error: no previous prototype for 'uuid_name_lookup' [-Werror=missing-prototypes]
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:83:1: error: 'uuid_rbnamecmp' defined but not used [-Werror=unused-function]
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:89:1: error: 'uuid_rbuuidcmp' defined but not used [-Werror=unused-function]
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:149:10: error: implicit declaration of function 'uuid_nrbtree_RB_LOOKUP_NAME' [-Werror=implicit-function-declaration]
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:149:8: error: assignment makes pointer from integer without a cast [-Werror=int-conversion]
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:161:13: error: 'uuid_s_not_found' undeclared (first use in this function)
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:180:1: error: no previous prototype for 'uuid_reset_lookup' [-Werror=missing-prototypes]
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:182:2: error: implicit declaration of function 'uuid_urbtree_RB_SCAN' [-Werror=implicit-function-declaration]
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:83:1: error: 'uuid_rbnamecmp' defined but not used [-Werror=unused-function]
/home/netbsd/src/lib/libc/uuid/uuid_name_lookup.c:89:1: error: 'uuid_rbuuidcmp' defined but not used [-Werror=unused-function]

Solution: Clean up uuid_name_lookup.c and import more missing things

############# STEPS DONE TO BUILD STUFF ###########################

# Place NetBSD source in ~/netbsd-src
# Place dflybsd source in ~/dragonfly

cp -R ~/dragonfly/sys/vfs/hammer ~/netbsd-src/sys/fs/
#Append hammer to SUBDIR In ~/netbsd-src/sys/fs/Makefile
#Replace <bsd.kmod.mk> by <bsd.kinc.mk> in ~/netbsd-src/sys/fs/hammer/Makefile
cp -R ~/dragonfly/sbin/newfs_hammer ~/netbsd-src/sbin/
#Apennd newfs_hammer to SUBDIR in ~/netbsd-src/sbin/Makefile

cp -R ~/dragonfly/sbin/mount_hammer ~/netbsd-src/sbin/
#Apend mount_hammer to SUBDIR in ~/netbsd-src/sbin/Makefile

cp -R ~/dragonfly/sbin/hammer ~/netbsd-src/sbin/

cp -R ~/dragonfly/lib/libhammer/ ~/netbsd-src/sys/lib/

#XXX Remove PATH changes from Makefiles introduced

#Change ~/netbsd-src/sys/lib/libhammer/libhammer.h,
#	~/netbsd-src/sbin/hammer/hammer_util.h
# to not include <vfs/...> but <fs/...>

#Change ~/netbsd-src/sbin/hammer/ondisk.c 
# to include <sys/disklabel.h> instead of <sys/diskslice.h>
#    include <sys/bootblock.h> instead of <sys/diskmbr.h>

#Add #include <sys/ioctl.h> to ~/netbsd-src/sys/fs/hammer/hammer_ioctl.h

#in ~/netbsd-src/sys/lib/libhammer/misc.c, replace:
#   %s/statfs/statvfs/
#   %s/getfsstat/getvfsstat/

#in ~/netbsd-src/sbin/newfs_hammer/Makefile, :
#add -I${.CURDIR}/../../sys/lib/libhammer.

#in ~/netbsd-src/sys/lib/libhammer/Makefile:
#change -I${.CURDIR}/../../sys to -I${.CURDIR}/../../../sys

#in ~/netbsd-src/sbin/newfs_hammer/newfs_hammer.c
# IOCTLTRIM->MNT_DISCARD

cp ~/dragonfly/lib/libc/uuid/uuid_name_lookup.c ~/netbsd-src/lib/libc/uuid/
# add uuid_name_lookup.c to SRCS
# add uuid_name_lookup.c to MLINKS

####################### Future roadblocks ############################
# Dillon on why porting HAMMER is hard: https://wiki.freebsd.org/PortingHAMMERFS
